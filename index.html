<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StakeIQ — AI Bet Analysis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Barlow+Condensed:wght@300;400;600;700;800&family=Barlow:wght@300;400;500&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0a0c0e;
      --bg2: #0f1215;
      --bg3: #151a1f;
      --border: #1e2530;
      --border2: #263040;
      --accent: #00e5ff;
      --accent2: #00b8d4;
      --gold: #ffc107;
      --text: #e8edf2;
      --text2: #8a9ab0;
      --text3: #4a5568;
      --green: #00e676;
      --red: #ff5252;
      --mono: 'DM Mono', monospace;
      --display: 'Barlow Condensed', sans-serif;
      --body: 'Barlow', sans-serif;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--body);
      font-size: 16px;
      line-height: 1.6;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(0,229,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,229,255,0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 40px;
      background: rgba(10,12,14,0.85);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }

    .logo {
      font-family: var(--display);
      font-size: 1.5rem;
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text);
    }

    .logo span { color: var(--accent); }

    .nav-tag {
      font-family: var(--mono);
      font-size: 0.7rem;
      color: var(--accent);
      border: 1px solid var(--accent);
      padding: 3px 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }

    .hero {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 120px 20px 60px;
      text-align: center;
    }

    .hero-eyebrow {
      font-family: var(--mono);
      font-size: 0.72rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .hero-eyebrow::before, .hero-eyebrow::after {
      content: '';
      width: 40px;
      height: 1px;
      background: var(--accent);
      opacity: 0.5;
    }

    h1 {
      font-family: var(--display);
      font-size: clamp(3.5rem, 10vw, 8rem);
      font-weight: 800;
      line-height: 0.9;
      letter-spacing: -0.01em;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    h1 .line2 {
      color: var(--accent);
      display: block;
    }

    .hero-sub {
      font-size: 1.05rem;
      color: var(--text2);
      max-width: 480px;
      margin: 28px auto 0;
      font-weight: 300;
      line-height: 1.7;
    }

    .hero-stats {
      display: flex;
      gap: 40px;
      margin-top: 52px;
      padding-top: 40px;
      border-top: 1px solid var(--border);
    }

    .stat { text-align: center; }

    .stat-num {
      font-family: var(--display);
      font-size: 2.2rem;
      font-weight: 700;
      color: var(--accent);
      line-height: 1;
    }

    .stat-label {
      font-family: var(--mono);
      font-size: 0.65rem;
      color: var(--text3);
      letter-spacing: 0.2em;
      text-transform: uppercase;
      margin-top: 4px;
    }

    .scroll-indicator {
      position: absolute;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      animation: bounce 2s infinite;
    }

    .scroll-indicator span {
      font-family: var(--mono);
      font-size: 0.6rem;
      color: var(--text3);
      letter-spacing: 0.2em;
    }

    .scroll-line {
      width: 1px;
      height: 40px;
      background: linear-gradient(to bottom, var(--accent), transparent);
    }

    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(6px); }
    }

    .analysis-section {
      position: relative;
      z-index: 1;
      padding: 80px 20px 120px;
    }

    .section-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      letter-spacing: 0.25em;
      color: var(--text3);
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 16px;
    }

    .section-title {
      font-family: var(--display);
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 700;
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 60px;
      letter-spacing: 0.02em;
    }

    .section-title span { color: var(--accent); }

    .form-container { max-width: 760px; margin: 0 auto; }

    .form-card {
      background: var(--bg2);
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }

    .form-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
    }

    .form-header {
      padding: 28px 36px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .form-header-title {
      font-family: var(--display);
      font-size: 1.1rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .free-badge {
      font-family: var(--mono);
      font-size: 0.65rem;
      background: rgba(0,230,118,0.1);
      color: var(--green);
      border: 1px solid rgba(0,230,118,0.3);
      padding: 4px 12px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }

    .form-body { padding: 36px; }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 20px;
    }

    .form-group:last-child { margin-bottom: 0; }

    label {
      font-family: var(--mono);
      font-size: 0.68rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text2);
    }

    input, select, textarea {
      background: var(--bg3);
      border: 1px solid var(--border2);
      color: var(--text);
      font-family: var(--body);
      font-size: 0.95rem;
      padding: 12px 16px;
      outline: none;
      transition: border-color 0.2s;
      width: 100%;
      appearance: none;
    }

    input::placeholder, textarea::placeholder {
      color: var(--text3);
      font-size: 0.9rem;
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(0,229,255,0.15);
    }

    select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%238a9ab0' stroke-width='1.5' fill='none'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 14px center;
      padding-right: 40px;
      cursor: pointer;
    }

    select option { background: var(--bg3); }
    textarea { resize: vertical; min-height: 100px; line-height: 1.6; }

    .odds-row {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 16px;
    }

    .form-divider {
      border: none;
      border-top: 1px solid var(--border);
      margin: 28px 0;
    }

    .btn-analyze {
      width: 100%;
      background: var(--accent);
      color: var(--bg);
      border: none;
      font-family: var(--display);
      font-size: 1.2rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 18px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      overflow: hidden;
    }

    .btn-analyze:hover {
      background: var(--accent2);
      transform: translateY(-1px);
      box-shadow: 0 8px 30px rgba(0,229,255,0.25);
    }

    .btn-analyze:active { transform: translateY(0); }
    .btn-analyze.loading { pointer-events: none; opacity: 0.7; }

    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(10,12,14,0.92);
      z-index: 200;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }

    .modal-overlay.active { opacity: 1; pointer-events: all; }

    .modal {
      background: var(--bg2);
      border: 1px solid var(--border2);
      max-width: 460px;
      width: 100%;
      position: relative;
      transform: translateY(20px);
      transition: transform 0.3s;
    }

    .modal-overlay.active .modal { transform: translateY(0); }

    .modal::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
    }

    .modal-header {
      padding: 28px 32px 20px;
      border-bottom: 1px solid var(--border);
    }

    .modal-title {
      font-family: var(--display);
      font-size: 1.6rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .modal-sub {
      font-size: 0.88rem;
      color: var(--text2);
      margin-top: 6px;
      font-weight: 300;
    }

    .modal-body { padding: 28px 32px 32px; }
    .modal-body .form-group { margin-bottom: 16px; }

    .btn-unlock {
      width: 100%;
      background: var(--accent);
      color: var(--bg);
      border: none;
      font-family: var(--display);
      font-size: 1.1rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 8px;
    }

    .btn-unlock:hover {
      background: var(--accent2);
      box-shadow: 0 6px 24px rgba(0,229,255,0.2);
    }

    .modal-note {
      font-family: var(--mono);
      font-size: 0.62rem;
      color: var(--text3);
      letter-spacing: 0.1em;
      text-align: center;
      margin-top: 14px;
    }

    .result-panel {
      margin-top: 24px;
      background: var(--bg2);
      border: 1px solid var(--border);
      display: none;
      position: relative;
      overflow: hidden;
    }

    .result-panel.visible { display: block; }

    .result-panel::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--green), transparent);
    }

    .result-header {
      padding: 20px 28px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .result-title {
      font-family: var(--display);
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--green);
    }

    .result-id {
      font-family: var(--mono);
      font-size: 0.65rem;
      color: var(--text3);
      letter-spacing: 0.1em;
    }

    .result-body { padding: 28px; }

    .result-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }

    .result-block {
      background: var(--bg3);
      border: 1px solid var(--border);
      padding: 18px 20px;
    }

    .result-block-label {
      font-family: var(--mono);
      font-size: 0.62rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text3);
      margin-bottom: 8px;
    }

    .result-block-value {
      font-family: var(--display);
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--text);
      line-height: 1.2;
    }

    .result-block-value.positive { color: var(--green); }
    .result-block-value.negative { color: var(--red); }
    .result-block-value.neutral { color: var(--gold); }

    .result-analysis {
      font-size: 0.93rem;
      color: var(--text2);
      line-height: 1.8;
      white-space: pre-line;
    }

    .result-section { margin-bottom: 20px; }

    .result-section-title {
      font-family: var(--mono);
      font-size: 0.68rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border);
    }

    .verdict-box {
      background: rgba(0,229,255,0.05);
      border: 1px solid rgba(0,229,255,0.2);
      padding: 20px 24px;
      margin-top: 20px;
    }

    .verdict-label {
      font-family: var(--mono);
      font-size: 0.65rem;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 8px;
    }

    .verdict-text {
      font-family: var(--display);
      font-size: 1.3rem;
      font-weight: 600;
      line-height: 1.4;
      color: var(--text);
    }

    .how-section {
      position: relative;
      z-index: 1;
      padding: 100px 20px;
      border-top: 1px solid var(--border);
    }

    .steps {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2px;
      max-width: 900px;
      margin: 60px auto 0;
      background: var(--border);
    }

    .step {
      background: var(--bg);
      padding: 40px 32px;
      position: relative;
    }

    .step-num {
      font-family: var(--display);
      font-size: 4rem;
      font-weight: 800;
      color: var(--border2);
      line-height: 1;
      margin-bottom: 20px;
    }

    .step-title {
      font-family: var(--display);
      font-size: 1.3rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 12px;
      color: var(--text);
    }

    .step-desc {
      font-size: 0.88rem;
      color: var(--text2);
      line-height: 1.7;
      font-weight: 300;
    }

    .step-accent {
      position: absolute;
      top: 0; left: 0;
      width: 3px;
      height: 40px;
      background: var(--accent);
    }

    .pricing-section {
      position: relative;
      z-index: 1;
      padding: 100px 20px;
      border-top: 1px solid var(--border);
    }

    .pricing-cards {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2px;
      max-width: 720px;
      margin: 60px auto 0;
      background: var(--border);
    }

    .pricing-card {
      background: var(--bg);
      padding: 40px 36px;
      position: relative;
    }

    .pricing-card.featured { background: var(--bg2); }

    .pricing-card.featured::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: var(--accent);
    }

    .price-label {
      font-family: var(--mono);
      font-size: 0.65rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text3);
      margin-bottom: 16px;
    }

    .price-label.featured { color: var(--accent); }

    .price-amount {
      font-family: var(--display);
      font-size: 3.5rem;
      font-weight: 800;
      line-height: 1;
      color: var(--text);
    }

    .price-per {
      font-size: 0.88rem;
      color: var(--text3);
      margin-left: 4px;
      font-weight: 300;
    }

    .price-desc {
      font-size: 0.88rem;
      color: var(--text2);
      margin-top: 14px;
      margin-bottom: 24px;
      font-weight: 300;
      line-height: 1.6;
    }

    .price-features {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .price-features li {
      font-size: 0.88rem;
      color: var(--text2);
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .price-features li::before {
      content: '→';
      color: var(--accent);
      font-family: var(--mono);
      font-size: 0.8rem;
      flex-shrink: 0;
      margin-top: 2px;
    }

    footer {
      position: relative;
      z-index: 1;
      border-top: 1px solid var(--border);
      padding: 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .footer-logo {
      font-family: var(--display);
      font-size: 1.2rem;
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .footer-logo span { color: var(--accent); }

    .footer-note {
      font-family: var(--mono);
      font-size: 0.62rem;
      color: var(--text3);
      letter-spacing: 0.1em;
      max-width: 400px;
      text-align: right;
      line-height: 1.7;
    }

    .loader {
      display: inline-flex;
      gap: 4px;
      align-items: center;
    }

    .loader span {
      width: 4px;
      height: 4px;
      background: var(--bg);
      border-radius: 50%;
      animation: loader 0.8s infinite;
    }

    .loader span:nth-child(2) { animation-delay: 0.15s; }
    .loader span:nth-child(3) { animation-delay: 0.3s; }

    @keyframes loader {
      0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
      40% { transform: scale(1); opacity: 1; }
    }

    @media (max-width: 700px) {
      nav { padding: 16px 20px; }
      .form-row, .odds-row { grid-template-columns: 1fr; }
      .form-body { padding: 24px 20px; }
      .form-header { padding: 20px; }
      .steps, .pricing-cards { grid-template-columns: 1fr; }
      .result-grid { grid-template-columns: 1fr; }
      .hero-stats { gap: 24px; }
      footer { flex-direction: column; gap: 16px; text-align: center; }
      .footer-note { text-align: center; }
    }

    .fade-in {
      opacity: 0;
      transform: translateY(16px);
      animation: fadeIn 0.6s forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in:nth-child(1) { animation-delay: 0.1s; }
    .fade-in:nth-child(2) { animation-delay: 0.25s; }
    .fade-in:nth-child(3) { animation-delay: 0.4s; }
  </style>
</head>
<body>

  <nav>
    <div class="logo">Stake<span>IQ</span></div>
    <div class="nav-tag">LIVE BETA</div>
  </nav>

  <section class="hero">
    <div class="hero-eyebrow">AI-powered bet analysis</div>
    <h1 class="fade-in">
      Know Before
      <span class="line2">You Stake</span>
    </h1>
    <p class="hero-sub fade-in">
      Paste any bet. Get a sharp, data-informed breakdown in seconds — value assessment, key risks, and a plain-English verdict. No fluff.
    </p>
    <div class="hero-stats fade-in">
      <div class="stat">
        <div class="stat-num">15s</div>
        <div class="stat-label">avg analysis time</div>
      </div>
      <div class="stat">
        <div class="stat-num">All</div>
        <div class="stat-label">major sports</div>
      </div>
      <div class="stat">
        <div class="stat-num">1st</div>
        <div class="stat-label">analysis free</div>
      </div>
    </div>
    <div class="scroll-indicator">
      <span>Analyse a bet</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <section class="analysis-section" id="analyse">
    <div class="section-label">// Get your edge</div>
    <h2 class="section-title">Analyse Your <span>Bet</span></h2>

    <div class="form-container">
      <div class="form-card">
        <div class="form-header">
          <div class="form-header-title">Bet Details</div>
          <div class="free-badge">First Analysis Free</div>
        </div>
        <div class="form-body">
          <div class="form-row">
            <div class="form-group">
              <label for="sport">Sport</label>
              <select id="sport">
                <option value="">Select sport...</option>
                <option>Football</option>
                <option>Horse Racing</option>
                <option>Tennis</option>
                <option>Basketball (NBA)</option>
                <option>American Football (NFL)</option>
                <option>Cricket</option>
                <option>Rugby</option>
                <option>Golf</option>
                <option>Boxing / MMA</option>
                <option>Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="market">Market Type</label>
              <select id="market">
                <option value="">Select market...</option>
                <option>Match Result (1X2)</option>
                <option>Both Teams to Score</option>
                <option>Over / Under Goals</option>
                <option>Asian Handicap</option>
                <option>Correct Score</option>
                <option>Anytime Goalscorer</option>
                <option>First Goalscorer</option>
                <option>Accumulator / Parlay</option>
                <option>Win / Each Way</option>
                <option>Player Props</option>
                <option>Other</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="event">Event / Match</label>
            <input type="text" id="event" placeholder="e.g. Arsenal vs Man City, Premier League — 25 Feb 2025" />
          </div>

          <div class="form-group">
            <label for="selection">Your Selection</label>
            <input type="text" id="selection" placeholder="e.g. Arsenal to win, Over 2.5 goals, BTTS Yes..." />
          </div>

          <div class="odds-row">
            <div class="form-group">
              <label for="odds">Odds</label>
              <input type="text" id="odds" placeholder="e.g. 2.40 or 7/4" />
            </div>
            <div class="form-group">
              <label for="stake">Stake (£)</label>
              <input type="number" id="stake" placeholder="e.g. 10" min="1" />
            </div>
            <div class="form-group">
              <label for="bookmaker">Bookmaker</label>
              <select id="bookmaker">
                <option value="">Optional...</option>
                <option>Bet365</option>
                <option>Betfair</option>
                <option>William Hill</option>
                <option>Paddy Power</option>
                <option>Ladbrokes</option>
                <option>Sky Bet</option>
                <option>DraftKings</option>
                <option>FanDuel</option>
                <option>Other</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="context">Additional Context <span style="color:var(--text3)">(optional)</span></label>
            <textarea id="context" placeholder="Any extra info: injuries, recent form, reasons you like this bet, weather conditions..."></textarea>
          </div>

          <hr class="form-divider" />

          <button class="btn-analyze" id="analyzeBtn" onclick="handleAnalyze()">
            Analyse This Bet →
          </button>
        </div>
      </div>

      <div class="result-panel" id="resultPanel">
        <div class="result-header">
          <div class="result-title">⬡ Analysis Complete</div>
          <div class="result-id" id="resultId">STK-000000</div>
        </div>
        <div class="result-body">
          <div class="result-grid">
            <div class="result-block">
              <div class="result-block-label">Value Assessment</div>
              <div class="result-block-value" id="valueRating">—</div>
            </div>
            <div class="result-block">
              <div class="result-block-label">Risk Level</div>
              <div class="result-block-value" id="riskLevel">—</div>
            </div>
          </div>

          <div class="result-section">
            <div class="result-section-title">// Breakdown</div>
            <div class="result-analysis" id="breakdownText"></div>
          </div>

          <div class="result-section">
            <div class="result-section-title">// Key Risks</div>
            <div class="result-analysis" id="risksText"></div>
          </div>

          <div class="verdict-box">
            <div class="verdict-label">// Sharp Verdict</div>
            <div class="verdict-text" id="verdictText"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="how-section">
    <div class="section-label">// Process</div>
    <h2 class="section-title">How It <span>Works</span></h2>
    <div class="steps">
      <div class="step">
        <div class="step-accent"></div>
        <div class="step-num">01</div>
        <div class="step-title">Enter Your Bet</div>
        <div class="step-desc">Sport, market, odds, selection. Takes 30 seconds. Works for any bet on any sport.</div>
      </div>
      <div class="step">
        <div class="step-accent"></div>
        <div class="step-num">02</div>
        <div class="step-title">AI Analyses</div>
        <div class="step-desc">Our AI evaluates form, value, market context, and risk across all available signals.</div>
      </div>
      <div class="step">
        <div class="step-accent"></div>
        <div class="step-num">03</div>
        <div class="step-title">Get the Edge</div>
        <div class="step-desc">Receive a structured breakdown with value rating, key risks, and a sharp plain-English verdict.</div>
      </div>
    </div>
  </section>

  <section class="pricing-section">
    <div class="section-label">// Pricing</div>
    <h2 class="section-title">Simple <span>Pricing</span></h2>
    <div class="pricing-cards">
      <div class="pricing-card">
        <div class="price-label">Free</div>
        <div class="price-amount">£0</div>
        <p class="price-desc">Your first full analysis, completely free. No card required.</p>
        <ul class="price-features">
          <li>One complete bet analysis</li>
          <li>All sports & markets</li>
          <li>Full breakdown & verdict</li>
          <li>Delivered instantly</li>
        </ul>
      </div>
      <div class="pricing-card featured">
        <div class="price-label featured">Pay Per Analysis</div>
        <div class="price-amount">£1.50<span class="price-per">/ analysis</span></div>
        <p class="price-desc">No subscription. No commitment. Pay only when you need it.</p>
        <ul class="price-features">
          <li>Full AI bet breakdown</li>
          <li>Value & risk assessment</li>
          <li>Sharp verdict</li>
          <li>Emailed to you</li>
        </ul>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-logo">Stake<span>IQ</span></div>
    <div class="footer-note">
      StakeIQ is for informational purposes only. We do not guarantee outcomes. Please gamble responsibly. 18+ only. BeGambleAware.org
    </div>
  </footer>

  <div class="modal-overlay" id="emailModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Unlock Your Analysis</div>
        <div class="modal-sub">Enter your email to receive your first free analysis.</div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="userEmail">Email Address</label>
          <input type="email" id="userEmail" placeholder="your@email.com" />
        </div>
        <button class="btn-unlock" onclick="submitEmail()">Get My Free Analysis →</button>
        <div class="modal-note">No spam. No subscription. Just your analysis.</div>
      </div>
    </div>
  </div>

  <script>
    let betData = {};
    let userEmail = localStorage.getItem('stakeiq_email') || null;
    let hasUsedFree = localStorage.getItem('stakeiq_used_free') === 'true';

    function handleAnalyze() {
      const sport = document.getElementById('sport').value;
      const market = document.getElementById('market').value;
      const event = document.getElementById('event').value.trim();
      const selection = document.getElementById('selection').value.trim();
      const odds = document.getElementById('odds').value.trim();

      if (!sport || !event || !selection || !odds) {
        alert('Please fill in Sport, Event, Selection, and Odds to continue.');
        return;
      }

      betData = {
        sport,
        market: market || 'Not specified',
        event,
        selection,
        odds,
        stake: document.getElementById('stake').value || 'Not specified',
        bookmaker: document.getElementById('bookmaker').value || 'Not specified',
        context: document.getElementById('context').value.trim() || ''
      };

      if (!userEmail) {
        document.getElementById('emailModal').classList.add('active');
        return;
      }

      if (hasUsedFree) {
        handlePayment();
        return;
      }

      runAnalysis();
    }

    function submitEmail() {
      const email = document.getElementById('userEmail').value.trim();
      if (!email || !email.includes('@')) {
        alert('Please enter a valid email address.');
        return;
      }
      userEmail = email;
      localStorage.setItem('stakeiq_email', email);
      document.getElementById('emailModal').classList.remove('active');
      runAnalysis();
    }

    function handlePayment() {
      // TODO: Replace with your Stripe Payment Link URL
      alert('Payment integration coming soon!');
      runAnalysis();
    }

    async function runAnalysis() {
      const btn = document.getElementById('analyzeBtn');
      btn.classList.add('loading');
      btn.innerHTML = '<span class="loader"><span></span><span></span><span></span></span> Analysing...';

      document.getElementById('resultPanel').classList.remove('visible');

      const prompt = buildPrompt(betData);

      try {
        const response = await fetch('https://api.anthropic.com/v1/messages', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            model: 'claude-sonnet-4-20250514',
            max_tokens: 1000,
            system: `You are StakeIQ, an expert sports betting analyst. You provide sharp, data-informed bet analysis for serious bettors.
You must respond ONLY in this exact JSON format, no other text:
{
  "valueRating": "Good Value | Fair Value | Poor Value | Overpriced",
  "riskLevel": "Low | Medium | High | Very High",
  "breakdown": "2-3 sentences analysing the bet from a value perspective, referencing the odds and market",
  "risks": "2-3 sentences covering the key risks to this bet landing",
  "verdict": "One sharp, decisive sentence. Be honest, not promotional."
}`,
            messages: [{ role: 'user', content: prompt }]
          })
        });

        const data = await response.json();
        const text = data.content[0].text;
        const result = JSON.parse(text.replace(/```json|```/g, '').trim());
        displayResult(result);

        if (!hasUsedFree) {
          hasUsedFree = true;
          localStorage.setItem('stakeiq_used_free', 'true');
        }

      } catch (err) {
        console.error(err);
        alert('Something went wrong. Please try again.');
      }

      btn.classList.remove('loading');
      btn.innerHTML = 'Analyse Another Bet →';
    }

    function buildPrompt(d) {
      return `Please analyse this bet:
Sport: ${d.sport}
Market: ${d.market}
Event: ${d.event}
Selection: ${d.selection}
Odds: ${d.odds}
Stake: £${d.stake}
Bookmaker: ${d.bookmaker}
Additional context: ${d.context || 'None provided'}`;
    }

    function displayResult(result) {
      const valueEl = document.getElementById('valueRating');
      valueEl.textContent = result.valueRating;
      valueEl.className = 'result-block-value';
      if (result.valueRating === 'Good Value') valueEl.classList.add('positive');
      else if (result.valueRating === 'Overpriced' || result.valueRating === 'Poor Value') valueEl.classList.add('negative');
      else valueEl.classList.add('neutral');

      const riskEl = document.getElementById('riskLevel');
      riskEl.textContent = result.riskLevel;
      riskEl.className = 'result-block-value';
      if (result.riskLevel === 'Low') riskEl.classList.add('positive');
      else if (result.riskLevel === 'Very High' || result.riskLevel === 'High') riskEl.classList.add('negative');
      else riskEl.classList.add('neutral');

      document.getElementById('breakdownText').textContent = result.breakdown;
      document.getElementById('risksText').textContent = result.risks;
      document.getElementById('verdictText').textContent = result.verdict;
      document.getElementById('resultId').textContent = 'STK-' + Math.random().toString(36).substr(2, 6).toUpperCase();

      const panel = document.getElementById('resultPanel');
      panel.classList.add('visible');
      panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    document.getElementById('emailModal').addEventListener('click', function(e) {
      if (e.target === this) this.classList.remove('active');
    });
  </script>
</body>
</html>
